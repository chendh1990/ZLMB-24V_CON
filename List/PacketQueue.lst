C51 COMPILER V9.52.0.0   PACKETQUEUE                                                       07/10/2018 10:50:11 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE PACKETQUEUE
OBJECT MODULE PLACED IN .\Output\PacketQueue.obj
COMPILER INVOKED BY: D:\Program Files\Keil\C51\BIN\C51.EXE Source\PacketQueue.c BROWSE INCDIR(.\Include;.\Bsp) DEFINE(FO
                    -SC_160000) DEBUG OBJECTEXTEND PRINT(.\List\PacketQueue.lst) TABS(2) OBJECT(.\Output\PacketQueue.obj)

line level    source

   1          #define __PACKET_QUEUE_C__
   2          #include "PacketQueue.h"
   3          
   4          void QueueInit(void)
   5          {
   6   1        g_PacketQueue.in = 0;
   7   1        g_PacketQueue.out = 0;
   8   1        g_PacketQueue.size = 0;
   9   1      }
  10          
  11          uint8 QueuePost(uint8 dat)
  12          {
  13   1        if(g_PacketQueue.size >= PACKET_QUEUE_MAX)
  14   1        {
  15   2          return 1;
  16   2        }
  17   1        if(g_PacketQueue.in >= PACKET_QUEUE_MAX)
  18   1        {
  19   2          g_PacketQueue.in = 0;
  20   2        }
  21   1        g_PacketQueue.buffer[g_PacketQueue.in++] = dat;
  22   1        g_PacketQueue.size++;
  23   1        return 0;
  24   1      }
  25          uint8 QueuePend(uint8 *dat)
  26          {
  27   1        if(g_PacketQueue.size == 0)
  28   1        {
  29   2          return 1;
  30   2        }
  31   1        if(g_PacketQueue.out >= PACKET_QUEUE_MAX)
  32   1        {
  33   2          g_PacketQueue.out = 0;
  34   2        }
  35   1        *dat = g_PacketQueue.buffer[g_PacketQueue.out++];
  36   1        g_PacketQueue.size--;
  37   1        return 0;
  38   1      }
  39          uint8 QueueSize(void)
  40          {
  41   1        return g_PacketQueue.size;  
  42   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    117    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     23    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
